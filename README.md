# CPM Learning Management System - Next.js

Это современное приложение на Next.js с полным сокрытием адресов бэкенд серверов.

## 🎯 Особенности

- ✅ **Полное сокрытие API** - все запросы к бэкенду идут через Next.js API Routes
- ✅ **SSR Ready** - готово к Server-Side Rendering
- ✅ **Сохранены все стили** - оригинальный дизайн полностью сохранен
- ✅ **TypeScript** - типизация для надежности
- ✅ **Все функции работают** - кабинет студента и админа полностью функциональны

## 🚀 Быстрый старт

```bash
# 1. Установите зависимости
npm install

# 2. Создайте файл .env.local с адресами бэкендов
cp .env.local.example .env.local

# 3. Запустите dev сервер
npm run dev
```

Приложение будет доступно по адресу http://localhost:3000

## 📁 Структура проекта

```
cpm-app2/
├── app/                      # Next.js App Router
│   ├── api/                 # API Routes (прокси для бэкенда)
│   ├── student/             # Кабинет студента
│   ├── admin/               # Кабинет администратора
│   └── page.tsx             # Главная страница (логин)
├── components/              # React компоненты
│   ├── student/            # Компоненты студента
│   ├── admin/              # Компоненты админа
│   └── LoginPage.tsx       # Страница входа
├── lib/
│   ├── api.ts              # Клиентская библиотека API
│   └── config.ts           # Конфигурация (серверная)
├── contexts/
│   └── AuthContext.tsx     # Контекст авторизации
└── public/                 # Статические файлы
```

## 🔒 Безопасность

### Скрытие адресов бэкенда

Все запросы к бэкенду идут через Next.js API Routes:

```
Браузер → Next.js API (/api/proxy/...) → Бэкенд сервер
```

В Network tab DevTools видны только запросы к `localhost:3000/api/...`

### Конфигурация

Адреса бэкендов хранятся в:
- `.env.local` - для разработки
- `lib/config.ts` - используется только на сервере

## 🎨 Функционал

### Кабинет студента:
- 📈 Успеваемость и QR-код
- 📝 Домашние задания
- 📊 Тесты
- 🎓 Экзамены
- 📅 Посещаемость
- 🧠 Тренировки
- 📚 Расписание
- 📋 Запросы на отгул

### Кабинет администратора:
- 👥 Управление пользователями
- 🏫 Учебные группы
- 📝 Домашние задания
- 📊 Создание тестов
- 📈 Результаты и статистика
- 🎓 Экзамены
- 📅 Посещаемость
- 📋 Обработка запросов на отгул

## 🛠 Разработка

```bash
# Разработка
npm run dev

# Сборка
npm run build

# Запуск production версии
npm start
```

## 📝 Миграция из cpm-app

Все компоненты и стили из `cpm-app` были адаптированы:
- Импорты заменены на новые API
- Добавлена директива `'use client'`
- Безопасные вызовы localStorage
- Все CSS модули скопированы

## ✨ Преимущества Next.js

1. **SEO** - готово к поисковой оптимизации
2. **Производительность** - SSR и автоматическая оптимизация
3. **Безопасность** - API routes скрывают бэкенд
4. **Масштабируемость** - легко добавить новые функции

## 📄 Лицензия

Внутренний проект для CPM Learning Management System
# cpm-app2
